.chat-area {
  background-color: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  margin: 0;
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
}

.suggestions {
  padding: 15px;
  display: flex;
  gap: 10px;
  overflow-x: auto;
  background-color: #f8f9fa;
  border-bottom: 1px solid #e9ecef;
  flex-shrink: 0;
}

.suggestion {
  padding: 10px 15px;
  background-color: white;
  border: 1px solid #e9ecef;
  border-radius: 20px;
  font-size: 0.9rem;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.2s;
}
.suggestion:hover {
  background-color: #e31837;
  color: white;
  border-color: #e31837;
}

.chat-messages {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
  max-height: 64vh;
}

.message { max-width: 70%; display: flex; flex-direction: column; }
.user-message { align-self: flex-end; }
.bot-message { align-self: flex-start; }

.message-content { padding: 12px 16px; border-radius: 18px; font-size: 0.95rem; }
.user-message .message-content {
  background-color: #e31837;
  color: white;
  border-bottom-right-radius: 5px;
}
.bot-message .message-content {
  background-color: #f1f3f5;
  color: #495057;
  border-bottom-left-radius: 5px;
}

.message-time { font-size: 0.7rem; color: #6c757d; margin-top: 5px; padding: 0 5px; }

.chat-input {
  display: flex;
  align-items: center;
  gap: 10px;
  background-color: #ffffff; /* back to white */
  padding: 10px 15px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.chat-input input {
  flex: 1;
  border: none;
  outline: none;
  padding: 10px 14px;
  border-radius: 8px;
  background-color: #ffffff; /* input also stays white */
  font-size: 14px;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
}

.chat-input button {
  border: none;
  background: #e31837;
  color: white;
  padding: 10px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s ease-in-out;
}

.chat-input button:hover {
  background: #c8394f;
}

/* uploaded files panel */
.uploaded-files-panel {
  margin: 0 0 8px 0; /* Reduced top margin */
  background: #fff;
  border: 1px solid #e0e0e0;
  border-radius: 10px;
  padding: 8px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  max-height: 120px; /* Limit height */
  overflow-y: auto; /* Add scroll if needed */
}

.uploaded-file {
  background: #f7f7f7;
  border: 1px solid #ddd;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 5px;
}


.mic-button, .send-button {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  transition: all 0.2s;
}

.mic-button {
  background-color: #fff;
  color: #e31837;
}
.mic-button:hover {
  background: #e31837;
  color: #fff;
  transform: scale(1.05);
}

.send-button {
  background: #fff;
  color: #e31837;
}
.send-button:hover {
  background: #e31837;
  color: #fff;
  transform: scale(1.05);
}


.stop-button {
  width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
  border: none; cursor: pointer; transition: all 0.2s; background-color: #e31837; color: white;
  opacity: 0.9;
}
.stop-button:hover { background-color: #b51229; }

/* scrollbar */
.chat-messages::-webkit-scrollbar { width: 6px; }
.chat-messages::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
.chat-messages::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 10px; }
.chat-messages::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

/* welcome robot (red theme) */
.welcome-message { align-self: center; margin-bottom: 20px; text-align: center; }
.robot-container { position: relative; display: flex; align-items: center; gap: 20px; padding: 15px; perspective: 1000px; }
.robot { position: relative; width: 60px; height: 80px; transform-style: preserve-3d; animation: robot-float 4s ease-in-out infinite; }
@keyframes robot-float { 0%,100%{transform:translateY(0) rotate3d(0,1,0,0)} 33%{transform:translateY(-5px) rotate3d(0,1,0,5deg)} 66%{transform:translateY(-3px) rotate3d(0,1,0,-5deg)} }

.robot-head { width: 50px; height: 40px; background: linear-gradient(135deg, #8a121f 0%, #e31837 100%);
  border-radius: 15px 15px 5px 5px; position: relative; margin: 0 auto; animation: head-tilt 3s infinite ease-in-out; transform-style: preserve-3d; }
.robot-head::before { content:''; position:absolute; top:5px; left:5px; right:5px; bottom:5px; border:2px solid rgba(227,24,55,0.25); border-radius:10px; animation:border-pulse 2s infinite; }
@keyframes border-pulse { 0%,100%{border-color:rgba(227,24,55,0.25)} 50%{border-color:rgba(227,24,55,0.8)} }
@keyframes head-tilt { 0%,100%{transform:rotate(0)} 25%{transform:rotate(5deg)} 75%{transform:rotate(-5deg)} }

.robot-face { position:absolute; top:10px; left:10px; width:30px; height:20px; transform-style: preserve-3d; }
.robot-eye { width:8px; height:8px; background-color:#fff; border-radius:50%; position:absolute; animation: eye-blink 3s infinite, eye-glow 2s infinite; }
@keyframes eye-blink { 0%,45%,50%,55%,100%{height:8px} 47%,53%{height:1px} }
@keyframes eye-glow { 0%,100%{ box-shadow:0 0 5px #fff } 50%{ box-shadow:0 0 12px #fff } }
.left-eye{left:0} .right-eye{right:0}
.robot-mouth { width: 15px; height: 3px; background-color: #fff; position: absolute; bottom: 0; left: 7.5px; border-radius: 2px; animation: talk 1.5s infinite, mouth-glow 2s infinite; }
@keyframes talk { 0%,50%,100%{height:3px} 25%,75%{height:6px} }
@keyframes mouth-glow { 0%,100%{box-shadow:0 0 3px #fff} 50%{box-shadow:0 0 8px #fff} }

.robot-antenna { width:3px; height:10px; background-color:#8a121f; position:absolute; top:-10px; left:50%; transform:translateX(-50%); animation: antenna-wiggle 3s infinite; }
@keyframes antenna-wiggle { 0%,100%{transform:translateX(-50%) rotate(0)} 25%{transform:translateX(-50%) rotate(5deg)} 75%{transform:translateX(-50%) rotate(-5deg)} }
.robot-antenna::after { content:''; width:6px; height:6px; background-color:#fff; border-radius:50%; position:absolute; top:-5px; left:50%; transform:translateX(-50%); animation: glow 2s infinite; }
@keyframes glow { 0%,100%{opacity:1; box-shadow:0 0 5px #fff} 50%{opacity:.8; box-shadow:0 0 12px #fff} }

.robot-body { width:60px; height:40px; background: linear-gradient(135deg, #8a121f 0%, #e31837 100%); border-radius:5px 5px 15px 15px; position:relative; margin:0 auto; transform-style: preserve-3d; animation: body-bob 3s infinite; }
@keyframes body-bob { 0%,100%{transform:translateY(0)} 50%{transform:translateY(2px)} }
.robot-body::before { content:''; position:absolute; top:5px; left:5px; right:5px; bottom:5px; border:2px solid rgba(227,24,55,0.25); border-radius:3px; animation:border-pulse 2s infinite alternate-reverse; }
.robot-detail { width:30px; height:10px; background-color:#fff; border-radius:5px; position:absolute; top:15px; left:15px; animation: detail-pulse 3s infinite; }
@keyframes detail-pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.1)} }

.tooltip-side {
  background: linear-gradient(135deg, #e31837 0%, #b51229 100%);
  color: white; padding: 12px 16px; border-radius: 12px; font-size: 0.95rem; max-width: 200px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15); position: relative; animation: fadeIn 0.5s forwards, tooltip-float 3s ease-in-out infinite;
}
@keyframes tooltip-float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-5px)} }
.tooltip-side::before {
  content:''; position:absolute; left:-10px; top:50%; transform:translateY(-50%);
  width:0; height:0; border-top:10px solid transparent; border-bottom:10px solid transparent; border-right:10px solid #e31837;
}
@keyframes fadeIn { from{opacity:0; transform:translateX(-10px)} to{opacity:1; transform:translateX(0)} }

/* speech / typing */
.speech-processing { display:flex; align-items:center; gap:10px; padding:0 10px; color:#e31837; flex:1; }
.processing-dots { display:flex; gap:4px; }
.processing-dots span { width:8px; height:8px; border-radius:50%; background-color:#e31837; animation: processing-bounce 1.4s infinite ease-in-out both; }
.processing-dots span:nth-child(1){animation-delay:-0.32s}
.processing-dots span:nth-child(2){animation-delay:-0.16s}
@keyframes processing-bounce { 0%,80%,100%{transform:scale(0)} 40%{transform:scale(1)} }

.typing-indicator { display:flex; gap:4px; padding:12px 16px; background-color:#f1f3f5; border-radius:18px; border-bottom-left-radius:5px; }
.typing-indicator span { width:8px; height:8px; border-radius:50%; background-color:#495057; animation: typing-bounce 1.4s infinite ease-in-out both; }
.typing-indicator span:nth-child(1){animation-delay:-0.32s}
.typing-indicator span:nth-child(2){animation-delay:-0.16s}
@keyframes typing-bounce { 0%,80%,100%{transform:scale(0)} 40%{transform:scale(1)} }

/* disabled */
button:disabled { opacity: 0.5; cursor: not-allowed; }
input:disabled { opacity: 0.7; cursor: not-allowed; background-color: #f8f9fa; }

/* error snackbar */
.error-snackbar {
  position: absolute; top: 80px; left: 50%; transform: translateX(-50%);
  background-color: #e31837; color: white; padding: 12px 20px; border-radius: 4px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2); z-index: 1000; animation: slideIn 0.3s forwards;
}
.error-content { display:flex; align-items:center; gap:8px; }
@keyframes slideIn { from{opacity:0; transform:translate(-50%,-20px)} to{opacity:1; transform:translate(-50%,0)} }

/* small processing in input row */
.processing-indicator { display:flex; align-items:center; justify-content:center; width:45px; height:45px; }

/* action buttons */
.action-buttons { display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
.action-button {
  padding:8px 12px; background-color:#f1f3f5; border:1px solid #e9ecef; border-radius:16px;
  font-size:0.85rem; cursor:pointer; transition:all .2s; color:#495057;
}
.action-button:hover { background-color:#e31837; color:#fff; border-color:#e31837; }
.bot-message .message-content { border-bottom-left-radius:5px; margin-bottom:5px; }

/* file upload button */
.file-upload-btn {
  width:45px; height:45px; border-radius:50%; display:flex; align-items:center; justify-content:center;
  border:none; cursor:pointer; transition:all .2s; background-color:#f1f3f5; color:#6c757d; position:relative;
}
.file-upload-btn:hover { background-color:#e31837; color:white; }
.file-upload-btn.has-file { background-color:#e31837; color:white; }
.file-input { display:none; }
.file-count {
  position:absolute; top:-5px; right:-5px; background-color:#e31837; color:white; border-radius:50%;
  width:18px; height:18px; font-size:.7rem; display:flex; align-items:center; justify-content:center;
}

/* file tile */
.file-message { padding:12px; background-color:#f8f9fa; border-radius:12px; border:1px solid #e9ecef; }
.file-info { display:flex; align-items:center; gap:10px; }
.file-info i { font-size:24px; color:#e31837; }
.file-details { display:flex; flex-direction:column; flex:1; }
.file-name { font-weight:500; font-size:0.9rem; }
.file-size { font-size:0.8rem; color:#6c757d; }

.file-status { display:flex; align-items:center; gap:4px; font-size:0.8rem; padding:4px 8px; border-radius:12px; }
.file-status.valid { background-color:#e8f5e9; color:#2e7d32; }
.file-status.invalid { background-color:#ffebee; color:#c62828; }
.file-status.processing { background-color:#fff3e0; color:#b26a00; }
.status-content { display:flex; align-items:center; gap:6px; }

.processing-spinner { width:16px; height:16px; display:flex; align-items:center; justify-content:center; }
.spinner { width:12px; height:12px; border:2px solid #b26a00; border-top:2px solid transparent; border-radius:50%; animation: spin 1s linear infinite; }
@keyframes spin { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }

.validation-result { margin-top:8px; padding:8px; border-radius:6px; font-size:0.9rem; background-color:white; border-left:3px solid #e31837; }


.panel-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; font-weight:500; font-size:0.9rem; }
.clear-btn { background:none; border:none; color:#6c757d; cursor:pointer; width:24px; height:24px; display:flex; align-items:center; justify-content:center; border-radius:50%; }
.clear-btn:hover { background-color:#f1f3f5; }
.files-list { display:flex; flex-direction:column; gap:5px; }
.file-item { display:flex; align-items:center; gap:8px; padding:5px; border-radius:6px; transition: background-color 0.2s; }
.file-item:hover { background-color:#f8f9fa; }
.file-item i { font-size:18px; color:#e31837; }
.file-item .file-name { flex:1; font-size:0.85rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.file-item .file-size { font-size:0.75rem; color:#6c757d; }
.remove-btn { background:none; border:none; color:#6c757d; cursor:pointer; width:20px; height:20px; display:flex; align-items:center; justify-content:center; border-radius:50%; }
.remove-btn:hover { background-color:#ffebee; color:#c62828; }

.chat-input { position: relative; z-index: 2; }

/* responsive */
@media (max-width: 768px) {
  .chat-area { border-radius: 0; margin: 0; }
  .message { max-width: 85%; }
  .chat-messages { max-height: 60vh; }
  .robot { width: 50px; height: 70px; }
  .robot-head { width: 40px; height: 30px; }
  .robot-body { width: 50px; height: 30px; }
  .robot-container { flex-direction: column; gap: 10px; }
  .tooltip-side { max-width: 180px; }
  .tooltip-side::before {
    left: 50%; top: -10px; transform: translateX(-50%);
    border-top: none; border-bottom: 10px solid #e31837; border-right: 10px solid transparent; border-left: 10px solid transparent;
  }
}



/* voice */
.voice-recording-overlay {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex; align-items: center; justify-content: center;
  z-index: 2000; animation: fadeIn 0.3s ease;
}
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.recording-container {
  display: flex; flex-direction: column; align-items: center;
  background-color: white; padding: 30px; border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.pulse-circle {
  width: 100px; height: 100px; border-radius: 50%;
  background-color: #e31837; display: flex; align-items: center; justify-content: center;
  color: white; animation: pulse 1.5s infinite; margin-bottom: 20px;
}
@keyframes pulse {
  0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(227, 24, 55, 0.7); }
  70% { transform: scale(1); box-shadow: 0 0 0 20px rgba(227, 24, 55, 0); }
  100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(227, 24, 55, 0); }
}
.pulse-circle i { font-size: 40px; }

.sound-waves { display: flex; align-items: center; justify-content: center; height: 50px; margin-bottom: 20px; }
.wave { width: 6px; height: 30px; background-color: #e31837; margin: 0 3px; border-radius: 3px; animation: wave 1.2s infinite ease-in-out; }
.wave:nth-child(2){animation-delay:.1s} .wave:nth-child(3){animation-delay:.2s} .wave:nth-child(4){animation-delay:.3s} .wave:nth-child(5){animation-delay:.4s}
@keyframes wave { 0%,100%{transform:scaleY(0.5)} 50%{transform:scaleY(1.5)} }

.listening-text { margin: 0 0 20px 0; font-size: 1.1rem; color: #495057; }

.stop-button {
  padding: 12px 60px; background-color: #e31837; color: white; border: none; border-radius: 24px;
  font-weight: 600; cursor: pointer; transition: background-color 0.2s;
}
.stop-button:hover { background-color: #b51229; }
